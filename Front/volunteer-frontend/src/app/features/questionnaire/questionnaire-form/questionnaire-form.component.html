<div class="page-container">
  <div class="card">
    <h2 class="form-title">Анкета волонтёра</h2>

    <mat-progress-spinner *ngIf="loading" mode="indeterminate" class="spinner"></mat-progress-spinner>

    <form [formGroup]="form" (ngSubmit)="onSubmit()" *ngIf="!loading">
      <!-- 3. Образование и занятость -->
      <h3>1. Образование и занятость</h3>
      <mat-form-field appearance="fill" class="full-width">
        <mat-label>Образование</mat-label>
        <input matInput formControlName="education">
      </mat-form-field>

      <mat-form-field appearance="fill" class="full-width">
        <mat-label>Место учёбы/работы</mat-label>
        <input matInput formControlName="workplaceOrStudy">
      </mat-form-field>

      <mat-form-field appearance="fill" class="full-width">
        <mat-label>Владение иностранными языками (укажите уровень)</mat-label>
        <input matInput formControlName="foreignLanguages">
      </mat-form-field>

      <!-- 4. Опыт волонтёрской деятельности -->
      <h3>2. Опыт волонтёрской деятельности</h3>
      <mat-checkbox formControlName="hasVolunteerExperience">Есть ли опыт волонтёрства?</mat-checkbox>

      <div *ngIf="form.get('hasVolunteerExperience')?.value">
        <mat-form-field appearance="fill" class="full-width">
          <mat-label>Название организации/проекта</mat-label>
          <input matInput formControlName="volunteerOrganization">
        </mat-form-field>

        <mat-form-field appearance="fill" class="full-width">
          <mat-label>Период участия</mat-label>
          <input matInput formControlName="volunteerPeriod">
        </mat-form-field>

        <mat-form-field appearance="fill" class="full-width">
          <mat-label>Обязанности и достижения</mat-label>
          <textarea matInput formControlName="volunteerResponsibilities" rows="4"></textarea>
        </mat-form-field>
      </div>

      <!-- 5. Мотивация и интересы -->
      <h3>3. Мотивация и интересы</h3>
      <mat-form-field appearance="fill" class="full-width">
        <mat-label>Почему вы решили стать волонтёром?</mat-label>
        <textarea matInput formControlName="motivationWhy" rows="3"></textarea>
      </mat-form-field>

      <mat-label>Что именно привлекает вас в волонтёрской деятельности?</mat-label>
      <mat-checkbox *ngFor="let option of motivationOptions" [value]="option" (change)="onMotivationChange($event)">
        {{ option }}
      </mat-checkbox>

      <!-- 6. Направления деятельности -->
      <h3>4. Направления деятельности</h3>
      <mat-label>Какие сферы волонтёрства вам интересны?</mat-label>
      <mat-checkbox *ngFor="let dir of directionOptions" [value]="dir" (change)="onDirectionChange($event)">
        {{ dir }}
      </mat-checkbox>

      <!-- 7. Навыки и умения -->
      <h3>5. Навыки и умения</h3>
      <mat-form-field appearance="fill" class="full-width">
        <mat-label>Профессиональные навыки</mat-label>
        <textarea matInput formControlName="professionalSkills" rows="3"></textarea>
      </mat-form-field>

      <mat-form-field appearance="fill" class="full-width">
        <mat-label>Хобби и увлечения</mat-label>
        <textarea matInput formControlName="hobbies" rows="3"></textarea>
      </mat-form-field>

      <mat-form-field appearance="fill" class="full-width">
        <mat-label>Владение компьютерными программами</mat-label>
        <input matInput formControlName="computerSkills">
      </mat-form-field>

      <mat-checkbox formControlName="hasCar">Наличие автомобиля</mat-checkbox>
      <mat-form-field appearance="fill" class="full-width" *ngIf="form.get('hasCar')?.value">
        <mat-label>Категория прав</mat-label>
        <input matInput formControlName="drivingLicenseCategory">
      </mat-form-field>

      <!-- 8. Готовность к участию -->
      <h3>6. Готовность к участию</h3>
      <mat-form-field appearance="fill">
        <mat-label>Сколько часов в месяц можете уделять?</mat-label>
        <input matInput type="number" formControlName="hoursPerMonth">
      </mat-form-field>

      <mat-form-field appearance="fill" class="full-width">
        <mat-label>Удобные дни недели</mat-label>
        <input matInput formControlName="convenientDays" placeholder="Пн, Ср, Сб и т.д.">
      </mat-form-field>

      <mat-label>Удобное время суток</mat-label>
      <mat-checkbox *ngFor="let time of timeOptions" [value]="time" (change)="onTimeChange($event)">
        {{ time }}
      </mat-checkbox>

      <!-- 9. Личностные качества -->
      <h3>7. Личностные качества (оцените от 1 до 10)</h3>
      <mat-form-field appearance="fill">
        <mat-label>Ответственность</mat-label>
        <input matInput type="number" formControlName="responsibility" min="1" max="10">
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Коммуникабельность</mat-label>
        <input matInput type="number" formControlName="communication" min="1" max="10">
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Стрессоустойчивость</mat-label>
        <input matInput type="number" formControlName="stressResistance" min="1" max="10">
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Конфликтность (чем ниже, тем лучше)</mat-label>
        <input matInput type="number" formControlName="conflictLevel" min="1" max="10">
      </mat-form-field>

      <!-- 10. Дополнительные сведения -->
      <h3>8. Дополнительные сведения</h3>
      <mat-form-field appearance="fill" class="full-width">
        <mat-label>Как предпочитаете проводить свободное время?</mat-label>
        <textarea matInput formControlName="freeTime" rows="3"></textarea>
      </mat-form-field>

      <mat-form-field appearance="fill" class="full-width">
        <mat-label>Ваш жизненный девиз</mat-label>
        <input matInput formControlName="lifeMotto">
      </mat-form-field>

      <mat-form-field appearance="fill" class="full-width">
        <mat-label>Любые другие комментарии</mat-label>
        <textarea matInput formControlName="additionalComments" rows="4"></textarea>
      </mat-form-field>

      <div class="actions">
        <button mat-raised-button color="primary" type="submit" [disabled]="form.invalid || loading">
          Сохранить анкету
        </button>
      </div>
    </form>
  </div>
</div>